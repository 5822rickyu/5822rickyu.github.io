"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}if(!window.ActiveXObject&&!("ActiveXObject"in window)){var __getClientLogo=function(){var t,e=JSON.parse(decodeURI(atob("JTVCJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLy8lMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC8vJTIyLCUyMiUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlMjAvLyUyMiwlMjIlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyNEREREREREREREREREREREREREREREIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwREREREREREREREREREREREREREQlMjAjIyUyMiwlMjIlMjAlMjAlMjBfX19fX19fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fX19fX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwX19fJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCU3QyU1QyU1QyUyMCUyMCUyMF9fJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyMlMjBoaCUyMCUyMCUyMCUyMC8vJTIwJTIwJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAvXyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU3QyU1QyU1QyUyMC9fJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAvLyUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlMjBfXyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUNfX19fJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDX19fXyUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwd3d3dyUyMCUyMCUyMCUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyME1NTU1NTU1NTU1NTU1NTU1NTU1NJTIwIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFJlbGVhc2UlMjB1bmRlZmluZWRAbm8lMjByZWxlYXNlJTIweWV0JTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1Qy8lMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMvJTIwJTIwJTIwJTIwJTIwJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFBvd2VyZWQlMjBieSUyMEBiaWxpYmlsaS9qaW5rZWxhLWNvcmVAMi44LjEzJTIyJTVEJTVE"))),r=["%c"],n=[];e.forEach((function(t){var e=t[0],n=t[1];r.push(e+n)})),n=n.concat(["color:#00a1d6"]),n=[r.join("\n")].concat(n),(t=console).log.apply(t,_toConsumableArray(n))};__getClientLogo()}!function(t){function e(e){for(var n,a,c=e[0],s=e[1],l=e[2],f=0,h=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={0:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="//s1.hdslb.com/bfs/static/stone-free/opus-detail/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;i.push([35,1]),r()}({21:function(t,e,r){},22:function(t,e,r){},23:function(t,e,r){},24:function(t,e,r){},25:function(t,e,r){},26:function(t,e,r){},27:function(t,e,r){},28:function(t,e,r){},35:function(t,e,r){t.exports=r(71)},61:function(t,e,r){r(21)},62:function(t,e,r){r(22)},63:function(t,e,r){r(23)},64:function(t,e,r){r(24)},65:function(t,e,r){r(25)},66:function(t,e,r){r(26)},67:function(t,e,r){r(27)},68:function(t,e,r){r(28)},71:function(t,e,r){r.r(e);var n=r(2),o=r(29),i=r(3),a={SET_BMG_DEF_DOMAIN:function(t,e){t.bmgDefDomain=e},SET_MODERN:function(t,e){t.modern=e},SET_ID:function(t,e){t.id=e},SET_IS_PREVIEW:function(t,e){t.isPreview=e},SET_DETAIL:function(t,e){t.detail=e},SET_FROM_SPMID:function(t,e){t.fromSpmid=e},SET_FALLBACK:function(t,e){t.fallback=e},SET_IS_CLIENT:function(t,e){t.isClient=e},SET_MODULE_STAT:function(t,e){var r=e.type,n=e.count,o=e.status,i=t.detail.modules.findIndex((function(t){return"MODULE_TYPE_STAT"===t.module_type}));if(-1!==i&&t.detail.modules[i].module_stat[r])return"boolean"==typeof o?(t.detail.modules[i].module_stat[r].status=o,void(o?t.detail.modules[i].module_stat[r].count++:t.detail.modules[i].module_stat[r].count--)):void("number"==typeof n&&(t.detail.modules[i].module_stat[r].count=n))},SET_THEME_MODE:function(t,e){t.themeMode=e}},c=r(31),s=r.n(c),l=r(32),u=r.n(l),f=r(14),h=r.n(f);function d(t){return t.query.jsonp="jsonp",t.param=t.params||t.param||t.data,new Promise((function(e,r){t.url=t.query?t.url+"?"+h.a.stringify(t.query):"",t.url.indexOf("http")<0&&(t.url=window.location.protocol+t.url);var n={timeout:t.timeout,prefix:t.jsonCallback};u()(t.url,n,(function(t,n){if(t)return r(t);var o={code:n.code,data:n};e(o)}))}))}function y(t){return t.contentType&&(t.headers=t.headers||{},t.headers["Content-Type"]=t.contentType),t.url=t.query?t.url+"?"+h.a.stringify(t.query):t.url,s()(t)}var p="undefined"!=typeof window,v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e=Math.max(0,e),"number"!=typeof t&&(t=Number(t)),isNaN(t)?r:t>1e8?(t/1e8).toFixed(e)+"亿":t>1e4?(t/1e4).toFixed(e)+"万":0===t?r:t},m=r(0);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t,e){var r=t.id,n=t.isPreview,o={id:r,timezone_offset:(new Date).getTimezoneOffset(),features:["onlyfansVote","onlyfansAssetsV2","decorationCard","htmlNewStyle","ugcDelete","editable","opusPrivateVisible","tribeeEdit","avatarAutoTheme","avatarTypeOpus"].join(",")};n&&(o.preview="1");var i="/x/polymer/web-dynamic/v1/opus/detail",a="//api.bilibili.com",c={method:"GET",url:"".concat(a).concat(i),query:o,withCredentials:!0};return p||(a="http://polymer-api.bilibili.co".replace(/(uat|pre)-/,""),c.url="".concat(a).concat(i),c.headers={cookie:e.cookie,"user-agent":e.userAgent||"","X-BACKEND-BILI-REAL-IP":e.ip||""}),function(t){return t.jsonp?d(t).catch((function(){if(t.fallbackUrl)return t.url=t.fallbackUrl,d(t)})):y(t).catch((function(){if(t.fallbackUrl)return t.url=t.fallbackUrl,y(t)}))}(c)}function U(t){return new Promise((function(e,r){Object(m.Unios)({method:"POST",url:"/x/dynamic/feed/dyn/thumb",data:C({},t)}).then((function(t){return t.code?r(t):e(t.data)})).catch(r)}))}function T(t,e,r,n){return new Promise((function(o,i){Object(m.Unios)({method:"POST",url:"/x/community/cosmo/interface/simple_action",data:{meta:{spmid:r,from_spmid:n,from:"unknown"},entity:{object_id_str:t,type:{biz:2}},action:e?3:4},chainProxy:function(t){return t.with("BUILT_IN_CSRF",{params:!0,data:!1})}}).then((function(t){return t.code?i(t):o(t.data)})).catch(i)}))}function j(t){return new Promise((function(e,r){Object(m.Unios)({method:"POST",url:"/x/web-interface/coin/add",data:C({multiply:1,avtype:2,statistics:JSON.stringify({appId:100,platform:5})},t),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){return t.code?r(t):e(t.data)})).catch(r)}))}function x(t){return new Promise((function(e,r){Object(m.Unios)({url:"/x/polymer/web-dynamic/v1/opus/detail/collection",params:{id:t}}).then((function(t){return t.code?r(t):e(t.data)})).catch(r)}))}function _(t){return new Promise((function(e,r){Object(m.Unios)({method:"POST",url:"/x/v2/history/report",data:C(C({},t),{},{dt:2}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){return t.code?r(t):e(t.data)})).catch(r)}))}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new O(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="executing",y="completed",p={};function v(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var C=Object.getPrototypeOf,g=C&&C(C(D([])));g&&g!==r&&n.call(g,a)&&(b=g);var M=w.prototype=v.prototype=Object.create(b);function U(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==J(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=x(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(J(e)+" is not iterable")}return m.prototype=w,o(M,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},U(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},U(M),l(M,s,"Generator"),l(M,a,(function(){return this})),l(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function L(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){L(i,n,o,a,c,"next",t)}function c(t){L(i,n,o,a,c,"throw",t)}a(void 0)}))}}function D(t,e,r){if(r=r||"//www.bilibili.com/404",!p){var n=new Error(e);throw n.status=t,n.redirect=r,n}location.replace(r)}var E={fetchDetail:function(t){var e=arguments;return O(I().mark((function r(){var n,o,i,a,c,s,l;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.commit,o=t.state,i=t.dispatch,a=e.length>1&&void 0!==e[1]?e[1]:{},o.id){r.next=5;break}return D(404,"not found"),r.abrupt("return");case 5:return r.next=7,M({id:o.id,isPreview:o.isPreview},a);case 7:if(c=r.sent,s=c.data,l=c.headers,0===s.code){r.next=17;break}if(!(p&&-352===s.code&&l&&l["x-bili-gaia-vvoucher"])){r.next=15;break}return r.next=14,i("handleVerify",{riskParams:{v_voucher:l["x-bili-gaia-vvoucher"]}});case 14:return r.abrupt("return",r.sent);case 15:return D(404,s.message),r.abrupt("return");case 17:if(s.data.item||!s.data.fallback){r.next=21;break}return n("SET_FALLBACK",s.data.fallback),p||i("handleFallback",a.querystring||""),r.abrupt("return");case 21:n("SET_DETAIL",s.data.item);case 22:case"end":return r.stop()}}),r)})))()},handleVerify:function(t,e){return O(I().mark((function r(){var n;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dispatch,r.prev=1,r.next=4,Object(m.VerifyCaptcha)(e);case 4:if(!r.sent){r.next=10;break}return r.next=8,n("fetchDetail");case 8:r.next=11;break;case 10:D(404,"cancel_verify");case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),D(404);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},handleFallback:function(t,e){var r=t.state;switch(r.fallback.type){case 1:return void D(302,"302","//t.bilibili.com/".concat(r.fallback.id).concat(e?"?".concat(e):""));case 2:return void D(302,"302","//www.bilibili.com/read/cv".concat(r.fallback.id).concat(e?"?".concat(e,"&").concat("opus_fallback=1"):"?".concat("opus_fallback=1")));default:return void D(404,"网络异常")}},handleLike:function(t){return O(I().mark((function e(){var r,n,o,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.getters,o=t.commit,i=!n.statData.like.status,e.prev=2,o("SET_MODULE_STAT",{type:"like",status:i}),e.next=6,U({dyn_id_str:r.detail.id_str,up:i?1:2,spmid:"333.1369.0.0",from_spmid:r.fromSpmid});case 6:return e.abrupt("return","");case 9:return e.prev=9,e.t0=e.catch(2),o("SET_MODULE_STAT",{type:"like",status:!i}),e.abrupt("return",e.t0.message||"网络错误");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()},handleFavorite:function(t){return O(I().mark((function e(){var r,n,o,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.getters,o=t.commit,i=!n.statData.favorite.status,e.prev=2,o("SET_MODULE_STAT",{type:"favorite",status:i}),e.next=6,T(r.detail.id_str,i,"333.1369.0.0",r.fromSpmid);case 6:return e.abrupt("return","");case 9:return e.prev=9,e.t0=e.catch(2),o("SET_MODULE_STAT",{type:"favorite",status:!i}),e.abrupt("return",e.t0.message||"网络错误");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()},handleCoin:function(t){return O(I().mark((function e(){var r,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,n=t.commit,e.prev=1,e.next=4,j({aid:r.detail.basic.rid_str,upid:r.detail.basic.uid,spmid:"333.1369.0.0",from_spmid:r.fromSpmid});case 4:return n("SET_MODULE_STAT",{type:"coin",status:!0}),e.abrupt("return","");case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.message||"网络错误");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},handldHistoryReport:function(t){return O(I().mark((function e(){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,e.prev=1,1===r.detail.type){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,_({aid:r.detail.basic.rid_str,type:5});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},handleCombo:function(t){return O(I().mark((function e(){var r,n,o,i,a,c,s,l,u,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getters,n=t.dispatch,o=[],i={},r.statData.like.status||(a=o.push(n("handleLike")),i.like={taskIndex:a,errorMsg:""}),r.statData.coin.status||(c=o.push(n("handleCoin")),i.coin={taskIndex:c,errorMsg:""}),r.statData.favorite.status||(s=o.push(n("handleFavorite")),i.favorite={taskIndex:s,errorMsg:""}),e.next=8,Promise.all(o);case 8:for(f in l=e.sent,u=!0,i)(h=l[i[f].taskIndex])&&(u=!1),i[f].errorMsg=h;return e.abrupt("return",{success:u,state:u?null:i});case 12:case"end":return e.stop()}}),e)})))()}},S={statData:function(t){var e;return t.detail&&(null===(e=t.detail.modules.find((function(t){return"MODULE_TYPE_STAT"===t.module_type})))||void 0===e?void 0:e.module_stat)||{}}},N=function(){return{bmgDefDomain:"",modern:null,id:"",detail:null,fromSpmid:void 0,isClient:!1,isPreview:!1,fallback:{id:"",type:0},theme:null,themeMode:"light",abtest:{html_new_style:"OFF"}}};n.default.use(i.a);var k=function(){return new i.a.Store({state:N,getters:S,mutations:a,actions:E})},A=r(15),P={set:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),document.cookie="".concat(t,"=").concat(encodeURIComponent(""+e),";expires=").concat(n.toUTCString(),"; path=/; domain=.bilibili.com")},get:function(t){var e=""+window.document.cookie;if(!t||!e)return"";var r="";return e.split(";").forEach((function(e){e.includes("".concat(t,"="))&&(r=e.split("".concat(t,"="))[1])})),r},clear:function(){window.document.cookie=""}},V={props:{size:Number,left:Number,top:Number,color:{type:String,default:"#00a1d6"}},data:function(){return{angle:0,interval:null,ctx:null}},computed:{r:function(){return this.size/2}},methods:{drawRing:function(){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=1,this.ctx.arc(this.r,this.r,this.r-1,-Math.PI/2,(this.angle-.5)*Math.PI),this.ctx.stroke()},startAnim:function(){var t=this;this.interval=setInterval((function(){t.angle+=.1,t.drawRing(),t.angle>=2&&(t.angle=0,t.drawRing(),clearInterval(t.interval),t.$emit("anim-finish"))}),50)},cancelAnim:function(){var t=this;clearInterval(this.interval),this.interval=setInterval((function(){t.angle-=.1,t.drawRing(),t.angle<=0&&(t.angle=0,t.drawRing(),clearInterval(t.interval))}),50)}},mounted:function(){var t=this.$refs.progress;this.ctx=t.getContext("2d"),this.drawRing()}},Q=(r(61),r(1)),F=Object(Q.a)(V,(function(){return(0,this._self._c)("canvas",{ref:"progress",staticClass:"ring-progress",style:{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),left:"".concat(this.left,"px"),top:"".concat(this.top,"px")},attrs:{width:this.size,height:this.size}})}),[],!1,null,null,null).exports;function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */H=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="executing",y="completed",p={};function v(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var C=Object.getPrototypeOf,g=C&&C(C(L([])));g&&g!==r&&n.call(g,a)&&(b=g);var M=w.prototype=v.prototype=Object.create(b);function U(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==G(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=x(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function J(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(G(e)+" is not iterable")}return m.prototype=w,o(M,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},U(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},U(M),l(M,s,"Generator"),l(M,a,(function(){return this})),l(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(J),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),J(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;J(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function R(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==G(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===G(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var z=function(t){return t<10?"0"+t:t},W={directives:{log:m.DirectiveLog},props:{visible:Boolean},filters:{formatTime:function(t){var e=new Date(1e3*t),r=z(e.getMonth()+1),n=z(e.getDate());return"".concat(r,"-").concat(n)}},data:function(){return{title:"",summary:"",count:0,items:[],sort:1,ONLY_FANS:1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){X(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(i.c)({id:function(t){var e;return null===(e=t.detail)||void 0===e?void 0:e.basic.collection_id},currentId:function(t){var e;return null===(e=t.detail)||void 0===e?void 0:e.id_str}})),watch:{visible:function(t){t&&this.initData()}},methods:{initData:function(){var t,e=this;return(t=H().mark((function t(){var r,n,o,i,a,c;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id){t.next=2;break}return t.abrupt("return");case 2:if(!e.items.length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,x(e.id);case 6:r=t.sent,n=r.collection_info,o=n.name,i=n.summary,a=n.opus_count,c=r.items,e.title=o,e.summary=i,e.count=a,e.items=R(c||[]);case 16:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Y(i,n,o,a,c,"next",t)}function c(t){Y(i,n,o,a,c,"throw",t)}a(void 0)}))})()},handleSort:function(){this.sort=1===this.sort?2:1,this.items=R(this.items).reverse()},handleJump:function(t){var e=t.opus_id;e!==this.currentId&&(location.href="//www.bilibili.com/opus/".concat(e))},handleGoIndex:function(){window.open("//www.bilibili.com/read/readlist/rl".concat(this.id))}}},q=(r(62),Object(Q.a)(W,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"},{name:"log",rawName:"v-log",value:{show:{name:"collection_popup.all.show",value:{}}},expression:"{\n    show: {\n      name: 'collection_popup.all.show',\n      value: {},\n    },\n  }"}],staticClass:"opus-collection",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"opus-collection__header"},[e("div",{staticClass:"opus-collection__info"},[e("div",{staticClass:"opus-collection__title bili-ellipsis"},[t._v(t._s(t.title)+"("+t._s(t.count)+")")]),t._v(" "),e("div",{staticClass:"opus-collection__summary",on:{click:t.handleGoIndex}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 2.99951C5.53193 2.99951 4.43345 3.0266 3.64953 3.05841C3.00203 3.08469 2.5 3.61739 2.5 4.29491V10.6004C2.5 11.31 3.05361 11.8897 3.75511 11.9182C4.75615 11.9589 6.00547 11.9995 7 11.9995C7.99453 11.9995 9.24387 11.9589 10.2449 11.9182C10.9464 11.8897 11.5 11.31 11.5 10.6004V4.29491C11.5 3.61739 10.998 3.08469 10.3505 3.05841C9.56657 3.0266 8.4681 2.99951 7 2.99951ZM3.60898 2.05923C4.40765 2.02682 5.51971 1.99951 7 1.99951C8.4803 1.99951 9.59237 2.02682 10.391 2.05923C11.6038 2.10845 12.5 3.11061 12.5 4.29491V10.6004C12.5 11.839 11.5305 12.8668 10.2855 12.9174C9.28153 12.9582 8.01563 12.9995 7 12.9995C5.98437 12.9995 4.71849 12.9582 3.71451 12.9174C2.46947 12.8668 1.5 11.839 1.5 10.6004V4.29491C1.5 3.11062 2.39619 2.10845 3.60898 2.05923ZM4.0249 7.49942C4.0249 7.23709 4.23757 7.02441 4.4999 7.02441H9.4999C9.76224 7.02441 9.9749 7.23709 9.9749 7.49942C9.9749 7.76175 9.76224 7.97442 9.4999 7.97442H4.4999C4.23757 7.97442 4.0249 7.76175 4.0249 7.49942ZM4.4999 9.02441C4.23757 9.02441 4.0249 9.23708 4.0249 9.49941C4.0249 9.76175 4.23757 9.97441 4.4999 9.97441H9.4999C9.76224 9.97441 9.9749 9.76175 9.9749 9.49941C9.9749 9.23708 9.76224 9.02441 9.4999 9.02441H4.4999ZM4.1084 5.49941C4.1084 5.23708 4.32107 5.02441 4.5834 5.02441H6.5834C6.84573 5.02441 7.0584 5.23708 7.0584 5.49941C7.0584 5.76175 6.84573 5.97441 6.5834 5.97441H4.5834C4.32107 5.97441 4.1084 5.76175 4.1084 5.49941ZM14.5 5.5C14.5 5.22386 14.2761 5 14 5C13.7239 5 13.5 5.22386 13.5 5.5V11C13.5 12.6569 12.1569 14 10.5 14H4C3.72386 14 3.5 14.2239 3.5 14.5C3.5 14.7761 3.72386 15 4 15H10.5C12.7091 15 14.5 13.2091 14.5 11V5.5Z",fill:"currentColor"}})]),t._v(" "),e("span",[t._v(t._s(t.summary))]),t._v(" "),e("SVGIconNext",{attrs:{icon:"BDC/arrow_forward_right_line/3",size:"16",axes:{stroke:1}}})],1)]),t._v(" "),e("button",{staticClass:"opus-collection__action",class:1!==t.sort?"reverse":"",on:{click:t.handleSort}},[e("span",[t._v(t._s(1===t.sort?"正序":"倒序"))]),t._v(" "),e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}},[e("path",{attrs:{d:"M5.9 2.65L1.4 7.6C1.2 7.8 1.2 8.1 1.4 8.3C1.6 8.5 1.9 8.5 2.1 8.3L5.75 4.2V14C5.75 14.25 6 14.5 6.25 14.5C6.5 14.5 6.75 14.25 6.75 14V3C6.75 2.75 6.5 2.5 6.25 2.5C6.1 2.5 5.95 2.55 5.9 2.65Z",fill:"#C9CCD0"}}),t._v(" "),e("path",{attrs:{d:"M13.9 8.70024L10.25 12.7997V3.00024C10.25 2.75024 10 2.50024 9.75 2.50024C9.5 2.50024 9.25 2.75024 9.25 3.00024V14.0002C9.25 14.2502 9.5 14.5002 9.75 14.5002C9.9 14.5002 10.0495 14.4502 10.1 14.3502L14.6 9.39974C14.7995 9.20024 14.7995 8.89974 14.6 8.70024C14.4 8.50024 14.1 8.50024 13.9 8.70024Z",fill:"#00AEEC"}})])])]),t._v(" "),e("div",{staticClass:"opus-collection__content"},t._l(t.items,(function(r,n){return e("div",{directives:[{name:"log",rawName:"v-log",value:{show:{name:"collection_popup.item.show",value:{position:n+1,opus_id:r.opus_id}},click:{name:"collection_popup.item.show",value:{position:n+1,opus_id:r.opus_id}}},expression:"{\n        show: {\n          name: 'collection_popup.item.show',\n          value: {\n            position: index + 1,\n            opus_id: item.opus_id,\n          },\n        },\n        click: {\n          name: 'collection_popup.item.show',\n          value: {\n            position: index + 1,\n            opus_id: item.opus_id,\n          },\n        },\n      }"}],key:r.opus_id,staticClass:"opus-collection__item",class:t.currentId===r.opus_id?"active":"",on:{click:function(e){return t.handleJump(r)}}},[e("div",{staticClass:"opus-collection__item__title"},[e("div",{staticClass:"opus-collection__item__title-text"},[t._v(t._s(r.title))])]),t._v(" "),e("div",{staticClass:"opus-collection__item__pubtime"},[t._v(t._s(t._f("formatTime")(r.pub_time)))])])})),0)])}),[],!1,null,null,null).exports),K=r(5),$=r.n(K);function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */et=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="executing",y="completed",p={};function v(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var C=Object.getPrototypeOf,g=C&&C(C(L([])));g&&g!==r&&n.call(g,a)&&(b=g);var M=w.prototype=v.prototype=Object.create(b);function U(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==tt(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=x(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function J(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tt(e)+" is not iterable")}return m.prototype=w,o(M,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},U(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},U(M),l(M,s,"Generator"),l(M,a,(function(){return this})),l(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(J),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),J(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;J(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function rt(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function nt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){rt(i,n,o,a,c,"next",t)}function c(t){rt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach((function(e){at(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function at(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==tt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ct={components:{Teleport:m.Teleport,Collection:q,RingProgress:F,SvgaPlayer:m.SvgaPlayer},props:{showBackTop:Boolean},data:function(){return{user:null,longPressing:!1,isJustCombo:!1,likeAnim:"",ComboCoin:"data:;base64,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",ComboFav:"data:;base64,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",showCoinCombo:!1,showFavCombo:!1,isMounted:!1,showCollection:!1}},inject:{spmIdFrom:{type:String,default:""}},computed:it(it(it({},Object(i.c)({detail:function(t){return t.detail}})),Object(i.b)(["statData"])),{},{collectionId:function(){var t;return null===(t=this.detail)||void 0===t||null===(t=t.basic)||void 0===t?void 0:t.collection_id},isLogin:function(){return!!this.user},canCombo:function(){var t=this.statData,e=t.like,r=t.favorite,n=t.coin;return!(!r||!n)&&!(r.hidden||n.hidden||e.status&&r.status&&n.status)},allHidden:function(){if(!this.detail)return!0;var t=this.statData,e=t.like,r=t.favorite,n=t.coin,o=t.forward,i=t.comment;return!(null==e||!e.hidden||null==r||!r.hidden||null!=n&&n.hidden&&(null==o||!o.hidden)&&(null==i||!i.hidden))}}),watch:{"statData.like.status":function(t){console.log(this.isJustCombo),this.isJustCombo||Object(m.Toast)({text:t?"点赞成功":"取消点赞成功",ref:this.$refs.like})},"statData.coin.status":function(t){this.isJustCombo||t&&Object(m.Toast)({text:"投币成功",ref:this.$refs.coin})},"statData.favorite.status":function(t){this.isJustCombo||Object(m.Toast)({text:t?"收藏成功":"取消收藏成功",ref:this.$refs.favorite})}},mounted:function(){var t=this;return nt(et().mark((function e(){var r,n,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get();case 3:r=e.sent,n=r.data,0===r.code&&(t.user=n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:o=function(e){t.showCollection&&(t.showCollection=!1)},document.addEventListener("click",o),t.$once("hook:beforeDestroy",(function(){document.removeEventListener("click",o)})),setTimeout((function(){t.isMounted=!0}),200);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))()},methods:{formatNumber:v,startCombo:function(){this.isLogin?!this.longPressing&&this.canCombo&&(this.likeAnim="shaking",this.longPressing=!0,this.$refs.progressCoin.startAnim(),this.$refs.progressFav.startAnim()):$.a.quickLogin()},cancelCombo:function(){var t=this;setTimeout((function(){t.longPressing=!1}),30),"shaking"===this.likeAnim&&(this.likeAnim=""),this.$refs.progressCoin.cancelAnim(),this.$refs.progressFav.cancelAnim()},comboFinish:function(){var t=arguments,e=this;return nt(et().mark((function r(){var n,o,i,a,c,s,l;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!(t.length>0&&void 0!==t[0])||t[0],"shaking"===e.likeAnim&&(e.likeAnim=""),e.showCoinCombo=n,e.showFavCombo=n,e.isJustCombo=!0,r.next=7,e.$store.dispatch("handleCombo");case 7:o=r.sent,i=o.success,a=o.state,i?Object(m.Toast)({text:"成功!",ref:e.$refs.like}):(e.statData.like.status||Object(m.Toast)({text:(null==a||null===(c=a.like)||void 0===c?void 0:c.errorMsg)||"点赞失败",ref:e.$refs.like}),e.statData.coin.status||Object(m.Toast)({text:(null==a||null===(s=a.coin)||void 0===s?void 0:s.errorMsg)||"投币失败",ref:e.$refs.coin}),e.statData.favorite.status||Object(m.Toast)({text:(null==a||null===(l=a.favorite)||void 0===l?void 0:l.errorMsg)||"收藏失败",ref:e.$refs.favorite})),e.isJustCombo=!1;case 12:case"end":return r.stop()}}),r)})))()},handleCollection:function(){this.showCollection=!this.showCollection},handleLike:function(){this.longPressing||this.$emit("action","like")},handleForward:function(){this.statData.forward.disabled||(this.statData.forward.forbidden?Object(m.Toast)({text:"禁止转发",ref:this.$refs.forward}):this.$emit("action","forward"))},handleCoin:function(t){var e;t?Object(m.Toast)({text:"你已经投过币咯",ref:this.$refs.coin}):(null===(e=this.user)||void 0===e?void 0:e.mid)!==this.detail.basic.uid?this.$emit("action","coin"):Object(m.Toast)({text:"up主不能自己投币",ref:this.$refs.coin})},handleGoBack:function(){"undefined"!=typeof window&&P.set("opus-goback","1"),1===this.detail.type?location.replace("//www.bilibili.com/read/cv".concat(this.detail.basic.rid_str)):location.replace("//t.bilibili.com/".concat(this.detail.id_str))},handleBackTop:function(){this.$emit("action","backtop")}}},st=(r(63),Object(Q.a)(ct,(function(){var t=this,e=t._self._c;return e("div",{class:{"side-toolbar":!0,transition:t.isMounted,on:t.showBackTop}},[t.collectionId?e("div",{staticClass:"side-toolbar__top"},[e("div",{staticClass:"side-toolbar__action collection",class:t.showCollection?"is-active":"",on:{click:function(e){return e.stopPropagation(),t.handleCollection.apply(null,arguments)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 3.74927C8.29789 3.74927 6.65017 3.7899 5.4743 3.83762C4.50304 3.87703 3.75 4.67609 3.75 5.69237V15.1507C3.75 16.2151 4.58042 17.0846 5.63267 17.1274C7.13423 17.1884 9.0082 17.2493 10.5 17.2493C11.9918 17.2493 13.8658 17.1884 15.3673 17.1274C16.4195 17.0846 17.25 16.2151 17.25 15.1507V5.69237C17.25 4.67609 16.497 3.87703 15.5257 3.83762C14.3498 3.7899 12.7022 3.74927 10.5 3.74927ZM5.41347 2.33885C6.61148 2.29023 8.27957 2.24927 10.5 2.24927C12.7204 2.24927 14.3885 2.29023 15.5865 2.33885C17.4058 2.41268 18.75 3.91592 18.75 5.69237V15.1507C18.75 17.0085 17.2958 18.5502 15.4282 18.6261C13.9223 18.6873 12.0234 18.7493 10.5 18.7493C8.97655 18.7493 7.07774 18.6873 5.57176 18.6261C3.7042 18.5502 2.25 17.0085 2.25 15.1507V5.69237C2.25 3.91593 3.59428 2.41268 5.41347 2.33885ZM6.03735 10.4991C6.03735 10.1056 6.35635 9.78662 6.74985 9.78662H14.2499C14.6434 9.78662 14.9624 10.1056 14.9624 10.4991C14.9624 10.8926 14.6434 11.2116 14.2499 11.2116H6.74985C6.35635 11.2116 6.03735 10.8926 6.03735 10.4991ZM6.74985 12.7866C6.35635 12.7866 6.03735 13.1056 6.03735 13.4991C6.03735 13.8926 6.35635 14.2116 6.74985 14.2116H14.2499C14.6434 14.2116 14.9624 13.8926 14.9624 13.4991C14.9624 13.1056 14.6434 12.7866 14.2499 12.7866H6.74985ZM6.1626 7.49912C6.1626 7.10562 6.4816 6.78662 6.8751 6.78662H9.8751C10.2686 6.78662 10.5876 7.10562 10.5876 7.49912C10.5876 7.89263 10.2686 8.21161 9.8751 8.21161H6.8751C6.4816 8.21161 6.1626 7.89263 6.1626 7.49912ZM21.75 7.5C21.75 7.08579 21.4142 6.75 21 6.75C20.5858 6.75 20.25 7.08579 20.25 7.5V15.75C20.25 18.2353 18.2353 20.25 15.75 20.25H6C5.58579 20.25 5.25 20.5858 5.25 21C5.25 21.4142 5.58579 21.75 6 21.75H15.75C19.0637 21.75 21.75 19.0637 21.75 15.75V7.5Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v("目录")])]),t._v(" "),e("Teleport",{attrs:{to:".right-sidebar-wrap"}},[e("Collection",{attrs:{visible:t.showCollection}})],1)],1):t._e(),t._v(" "),t.detail&&!t.allHidden?e("div",{staticClass:"side-toolbar__box"},[t.statData&&!t.statData.like.hidden?e("div",{directives:[{name:"longClick",rawName:"v-longClick:800",value:t.startCombo,expression:"startCombo",arg:"800"},{name:"longClickLeave",rawName:"v-longClickLeave",value:t.cancelCombo,expression:"cancelCombo"}],ref:"like",class:{"side-toolbar__action":!0,like:!0,"is-active":t.statData.like.status,shaking:"shaking"===t.likeAnim},on:{click:t.handleLike}},[t.statData.like.status?e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.3186 7.74998H15.776C15.999 7.26616 16.2333 6.6567 16.3213 6.06668C16.3848 5.64061 16.3909 5.11874 16.3397 4.62199C16.2897 4.1373 16.1773 3.59536 15.9528 3.16982C15.4775 2.26864 14.8233 1.63578 14.0361 1.48224C13.1988 1.31893 12.4779 1.74495 12.0464 2.39778C11.6856 2.94375 11.5449 3.39925 11.4167 3.81444L11.4167 3.81444L11.4125 3.82786C11.2892 4.22696 11.1679 4.61901 10.8559 5.17154C10.3427 6.08056 9.92397 6.55203 9.36125 7.0454C9.071 7.29988 8.77253 7.47246 8.5 7.5831V21.225C9.28742 21.2418 10.1289 21.2524 11 21.2524C13.3441 21.2524 15.3224 21.1759 16.627 21.1071C17.9072 21.0396 19.1311 20.3943 19.7997 19.2217C20.4316 18.1135 21.2409 16.4358 21.7288 14.4296C22.1856 12.5508 22.3761 11.0232 22.4535 9.98474C22.5487 8.70656 21.5102 7.74998 20.3186 7.74998ZM7 21.1842V7.74998H5.30231C3.75929 7.74998 2.38771 8.85084 2.21213 10.4483C2.10046 11.4642 2 12.7852 2 14.2524C2 15.839 2.11749 17.3111 2.23926 18.4118C2.40726 19.9306 3.65916 21.0399 5.15251 21.1103C5.68498 21.1355 6.30853 21.1615 7 21.1842Z",fill:"#00A1D6"}})]):e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9252 3.04546C13.6432 3.01258 13.382 3.13521 13.2422 3.29868C12.9774 3.60848 12.8705 3.86276 12.7384 4.23799C12.7234 4.28037 12.7082 4.32422 12.6925 4.36961C12.5611 4.74857 12.3929 5.23391 12.044 5.85187C11.446 6.91117 10.8882 7.55173 10.2013 8.154C9.63865 8.6473 9.06639 8.98294 8.5 9.14275V19.7248C9.28689 19.7417 10.1287 19.7525 11 19.7525C13.2468 19.7525 15.1529 19.6812 16.4372 19.615C17.3477 19.5681 18.1379 19.1176 18.5497 18.3851C19.1274 17.3574 19.8396 15.8503 20.2712 14.0753C20.6734 12.4212 20.8569 11.0615 20.9392 10.1025C20.9774 9.65797 20.6256 9.25003 20.08 9.25003H15.0977C14.8476 9.25003 14.614 9.12542 14.4748 8.91775C14.3355 8.71015 14.3089 8.44684 14.4037 8.21557C14.4037 8.21555 14.4037 8.21553 14.4037 8.21551C14.4037 8.21547 14.4038 8.21543 14.4038 8.21539C14.4038 8.21537 14.4038 8.21536 14.4038 8.21534L14.4046 8.21341L14.4085 8.20377L14.4249 8.16256C14.4395 8.12573 14.4609 8.07081 14.4874 8.00089C14.5404 7.86084 14.6131 7.66185 14.6909 7.42856C14.8489 6.95439 15.0177 6.36917 15.0941 5.85681C15.2109 5.07451 15.1824 4.44592 14.8757 3.86439C14.5461 3.23954 14.1724 3.07429 13.9252 3.04546ZM16.164 7.75003H20.08C21.4037 7.75003 22.5555 8.81291 22.4337 10.2309C22.3455 11.2583 22.1508 12.6941 21.7288 14.4297C21.2555 16.3758 20.4798 18.0127 19.8573 19.1201C19.1594 20.3616 17.8654 21.0435 16.5144 21.113C15.21 21.1802 13.2777 21.2525 11 21.2525C8.7933 21.2525 6.77664 21.1846 5.34776 21.1195C3.73985 21.0461 2.39101 19.8517 2.21798 18.2152C2.1042 17.1391 2 15.7467 2 14.2525C2 12.8835 2.08746 11.6418 2.18985 10.6567C2.36874 8.93544 3.84615 7.75003 5.50754 7.75003H7.75C8.06896 7.75003 8.56382 7.59478 9.21241 7.02612C9.77509 6.53279 10.2246 6.0235 10.7378 5.11442C11.0177 4.61868 11.146 4.24973 11.2753 3.87788C11.2913 3.83198 11.3072 3.78604 11.3235 3.73981C11.4791 3.29802 11.6602 2.84083 12.1021 2.32398C12.5582 1.79047 13.3077 1.4633 14.0989 1.55555C14.9248 1.65186 15.6866 2.18668 16.2024 3.16456C16.7233 4.15199 16.7157 5.15349 16.5777 6.07814C16.4916 6.65522 16.3202 7.26593 16.164 7.75003ZM7 19.6835V9.25003H5.50754C4.54442 9.25003 3.77423 9.92257 3.68182 10.8118C3.58359 11.7569 3.5 12.9457 3.5 14.2525C3.5 15.6802 3.59975 17.0179 3.70967 18.0575C3.80099 18.9212 4.51252 19.5798 5.41611 19.621C5.88508 19.6424 6.41785 19.6641 7 19.6835Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v(t._s(t.formatNumber(t.statData.like.count)))])]):t._e(),t._v(" "),t.statData&&!t.statData.coin.hidden?e("div",{ref:"coin",class:{"side-toolbar__action":!0,coin:!0,"is-active":t.statData.coin.status,"hide-icon":t.showCoinCombo},on:{click:function(e){return t.handleCoin(t.statData.coin.status)}}},[e("RingProgress",{ref:"progressCoin",attrs:{size:30,left:8,top:-3},on:{"anim-finish":t.comboFinish}}),t._v(" "),t.showCoinCombo?e("SvgaPlayer",{staticClass:"side-toolbar__action__combosvga",attrs:{id:"coin-combo",src:t.ComboCoin},on:{finish:function(e){t.showCoinCombo=!1}}}):t._e(),t._v(" "),t.statData.coin.status?e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM15.25 6.75C15.6642 6.75 16 7.08579 16 7.5C16 7.91421 15.6642 8.25 15.25 8.25H12.75V9.54051C13.867 9.66527 14.8118 10.079 15.5112 10.7933C16.3595 11.6598 16.75 12.8698 16.75 14.25V14.75C16.75 15.1642 16.4142 15.5 16 15.5C15.5858 15.5 15.25 15.1642 15.25 14.75V14.25C15.25 13.1449 14.9409 12.3549 14.4394 11.8427C14.0571 11.4522 13.5063 11.1653 12.75 11.0526V17C12.75 17.4142 12.4142 17.75 12 17.75C11.5858 17.75 11.25 17.4142 11.25 17V11.0526C10.4937 11.1653 9.94295 11.4522 9.56064 11.8427C9.05914 12.3549 8.75 13.1449 8.75 14.25V14.75C8.75 15.1642 8.41421 15.5 8 15.5C7.58579 15.5 7.25 15.1642 7.25 14.75V14.25C7.25 12.8698 7.64049 11.6598 8.48882 10.7933C9.18818 10.079 10.133 9.66527 11.25 9.54051V8.25H8.75C8.33579 8.25 8 7.91421 8 7.5C8 7.08579 8.33579 6.75 8.75 6.75H15.25Z",fill:"#00A1D6"}})]):e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.5 12C3.5 7.30558 7.30558 3.5 12 3.5C16.6944 3.5 20.5 7.30558 20.5 12C20.5 16.6944 16.6944 20.5 12 20.5C7.30558 20.5 3.5 16.6944 3.5 12ZM12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM8.75 6.75C8.33579 6.75 8 7.08579 8 7.5C8 7.91421 8.33579 8.25 8.75 8.25H11.25V9.54051C10.133 9.66527 9.18817 10.079 8.48882 10.7933C7.64049 11.6598 7.25 12.8698 7.25 14.25V14.75C7.25 15.1642 7.58579 15.5 8 15.5C8.41421 15.5 8.75 15.1642 8.75 14.75V14.25C8.75 13.1449 9.05914 12.3549 9.56064 11.8427C9.94294 11.4522 10.4937 11.1653 11.25 11.0526V17C11.25 17.4142 11.5858 17.75 12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11.0526C13.5063 11.1653 14.0571 11.4522 14.4394 11.8427C14.9409 12.3549 15.25 13.1449 15.25 14.25V14.75C15.25 15.1642 15.5858 15.5 16 15.5C16.4142 15.5 16.75 15.1642 16.75 14.75V14.25C16.75 12.8698 16.3595 11.6598 15.5112 10.7933C14.8118 10.079 13.867 9.66527 12.75 9.54051V8.25H15.25C15.6642 8.25 16 7.91421 16 7.5C16 7.08579 15.6642 6.75 15.25 6.75H12H8.75Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v(t._s(t.formatNumber(t.statData.coin.count)))])],1):t._e(),t._v(" "),t.statData&&!t.statData.favorite.hidden?e("div",{ref:"favorite",class:{"side-toolbar__action":!0,favorite:!0,"is-active":t.statData.favorite.status},on:{click:function(e){return t.$emit("action","favorite")}}},[e("RingProgress",{ref:"progressFav",attrs:{size:30,left:8,top:-3}}),t._v(" "),t.showFavCombo?e("SvgaPlayer",{staticClass:"side-toolbar__action__combosvga",attrs:{id:"fav-combo",src:t.ComboFav},on:{finish:function(e){t.showFavCombo=!1}}}):t._e(),t._v(" "),t.statData.favorite.status?e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4308 2.73528C11.0728 1.4346 12.9275 1.43459 13.5694 2.73528L15.4401 6.52581C15.6222 6.89474 15.9742 7.15045 16.3813 7.20961L20.5644 7.81745C21.9998 8.02603 22.573 9.78998 21.5343 10.8024L18.5074 13.7529C18.2128 14.0401 18.0783 14.4539 18.1479 14.8594L18.8624 19.0256C19.1076 20.4551 17.6071 21.5453 16.3233 20.8704L12.5818 18.9034C12.2176 18.7119 11.7826 18.7119 11.4184 18.9034L7.67696 20.8704C6.39311 21.5453 4.8926 20.4551 5.1378 19.0256L5.85236 14.8594C5.9219 14.4539 5.78747 14.0401 5.49286 13.7529L2.46594 10.8024C1.42728 9.78998 2.00042 8.02603 3.43581 7.81745L7.61892 7.20961C8.02605 7.15045 8.37801 6.89474 8.56009 6.52581L10.4308 2.73528Z",fill:"#00A1D6"}})]):e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.1617 3.28288C10.9137 1.75922 13.0863 1.75922 13.8383 3.28288L15.5564 6.76404C15.6656 6.9854 15.8768 7.13882 16.1211 7.17432L19.9628 7.73255C21.6442 7.97688 22.3156 10.0432 21.0989 11.2292L18.319 13.9389C18.1423 14.1112 18.0616 14.3595 18.1033 14.6028L18.7596 18.4289C19.0468 20.1036 17.2891 21.3807 15.7851 20.59L12.349 18.7835C12.1305 18.6687 11.8695 18.6687 11.651 18.7835L8.21488 20.59C6.71094 21.3807 4.95321 20.1036 5.24043 18.4289L5.89667 14.6028C5.9384 14.3595 5.85774 14.1112 5.68097 13.9389L2.9011 11.2292C1.68439 10.0432 2.35579 7.97688 4.03724 7.73255L7.87893 7.17432C8.12321 7.13882 8.33439 6.9854 8.44363 6.76404L10.1617 3.28288ZM12.4932 3.94673C12.2915 3.53794 11.7085 3.53794 11.5068 3.94673L9.78874 7.42789C9.461 8.09196 8.82747 8.55224 8.09463 8.65873L4.25294 9.21696C3.80182 9.28251 3.62168 9.8369 3.94812 10.1551L6.72799 12.8648C7.25829 13.3817 7.50027 14.1265 7.37508 14.8563L6.71884 18.6825C6.64178 19.1318 7.11337 19.4744 7.51687 19.2623L10.953 17.4558C11.6085 17.1112 12.3915 17.1112 13.047 17.4558L16.4831 19.2623C16.8866 19.4744 17.3582 19.1318 17.2811 18.6825L16.6249 14.8563C16.4997 14.1265 16.7417 13.3817 17.272 12.8648L20.0519 10.1551C20.3783 9.8369 20.1982 9.28251 19.7471 9.21696L15.9054 8.65873C15.1725 8.55224 14.539 8.09196 14.2113 7.42789L12.4932 3.94673Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v(t._s(t.formatNumber(t.statData.favorite.count)))])],1):t._e(),t._v(" "),t.statData&&!t.statData.forward.hidden?e("div",{ref:"forward",class:{"side-toolbar__action":!0,forward:!0,"is-disabled":t.statData&&t.statData.forward.disabled},on:{click:t.handleForward}},[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.7148 3.3904L12.1883 2.80873V2.80873L11.7148 3.3904ZM10.0835 7.11906L10.1675 7.86434C10.5469 7.82159 10.8335 7.50077 10.8335 7.11906H10.0835ZM2.40872 16.249L1.66281 16.1708L2.40872 16.249ZM3.41451 16.5323L2.78976 16.1174H2.78976L3.41451 16.5323ZM10.0835 12.9746H10.8335C10.8335 12.5859 10.5366 12.2616 10.1494 12.2275L10.0835 12.9746ZM11.7148 16.7765L11.2414 16.1948L11.7148 16.7765ZM18.5084 11.2469L18.035 10.6652H18.035L18.5084 11.2469ZM18.5085 8.92019L18.9819 8.33852L18.5085 8.92019ZM10.8335 4.16596C10.8335 3.95534 11.078 3.83911 11.2414 3.97206L12.1883 2.80873C11.0449 1.87805 9.33354 2.69168 9.33354 4.16596H10.8335ZM10.8335 7.11906V4.16596H9.33354V7.11906H10.8335ZM3.15463 16.3272C3.51573 12.883 4.69455 10.8613 6.01872 9.66171C7.35327 8.45275 8.91679 8.00533 10.1675 7.86434L9.99953 6.37378C8.54838 6.53736 6.65086 7.06509 5.01166 8.55003C3.36208 10.0444 2.05444 12.4353 1.66281 16.1708L3.15463 16.3272ZM2.78976 16.1174C2.84989 16.0268 2.94169 16.0279 2.97464 16.0369C2.99716 16.043 3.04471 16.0623 3.0897 16.1195C3.14262 16.1869 3.16079 16.2684 3.15463 16.3272L1.66281 16.1708C1.58766 16.8875 2.09197 17.3518 2.58225 17.4846C3.05748 17.6134 3.68033 17.4877 4.03925 16.9473L2.78976 16.1174ZM10.1494 12.2275C8.06107 12.0433 5.11428 12.6176 2.78976 16.1174L4.03925 16.9473C6.01112 13.9785 8.38309 13.5775 10.0177 13.7217L10.1494 12.2275ZM10.8335 16.0009V12.9746H9.33354V16.0009H10.8335ZM11.2414 16.1948C11.078 16.3278 10.8335 16.2116 10.8335 16.0009H9.33354C9.33354 17.4752 11.0449 18.2888 12.1883 17.3582L11.2414 16.1948ZM18.035 10.6652L11.2414 16.1948L12.1883 17.3582L18.9819 11.8285L18.035 10.6652ZM18.035 9.50185C18.4037 9.80199 18.4037 10.3651 18.035 10.6652L18.9819 11.8285C20.0881 10.9282 20.0881 9.23891 18.9819 8.33852L18.035 9.50185ZM11.2414 3.97206L18.035 9.50185L18.9819 8.33852L12.1883 2.80873L11.2414 3.97206Z",fill:"currentColor"}}),t._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0126 2.74638C10.9645 1.89326 9.39575 2.63908 9.39575 3.9905V6.52347C8.04285 6.7607 6.42622 7.33445 5.01037 8.63537C3.36503 10.1472 2.06603 12.5719 1.70486 16.3755C1.64281 17.029 2.10319 17.4525 2.5535 17.5729C2.99132 17.6899 3.56409 17.5696 3.88706 17.0656C4.90489 15.4772 6.02606 14.6008 7.07814 14.1323C7.88831 13.7715 8.68279 13.6415 9.39575 13.6345V16.176C9.39575 17.5275 10.9645 18.2733 12.0126 17.4202L19.0613 11.683C20.0753 10.8576 20.0753 9.30912 19.0613 8.48377L12.0126 2.74638ZM10.7707 3.9905C10.7707 3.79744 10.9949 3.6909 11.1446 3.81277L18.1933 9.55016C18.5313 9.82528 18.5313 10.3414 18.1933 10.6166L11.1446 16.3538C10.9949 16.4756 10.7707 16.3691 10.7707 16.176V12.9744C10.7707 12.6181 10.4986 12.3209 10.1436 12.2896C9.10884 12.1983 7.8347 12.2902 6.51878 12.8763C5.36413 13.3904 4.20995 14.2707 3.17068 15.6812C3.60099 12.6381 4.70283 10.7852 5.94069 9.64786C7.29583 8.40271 8.89001 7.94525 10.1603 7.80206C10.508 7.76287 10.7707 7.46879 10.7707 7.11889V3.9905Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v(t._s(t.formatNumber(t.statData.forward.count)))])]):t._e(),t._v(" "),t.statData&&!t.statData.comment.hidden?e("div",{staticClass:"side-toolbar__action comment",on:{click:function(e){return t.$emit("action","comment")}}},[e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 11C2 6.58172 5.58172 3 10 3H14C18.4183 3 22 6.58172 22 11C22 15.2656 18.6616 18.7514 14.4549 18.9873C13.4971 20.2148 11.9228 21.7529 9.71136 22.3555C9.2837 22.472 8.89202 22.2894 8.673 22.0075C8.46064 21.7342 8.38542 21.3424 8.5439 20.9775C8.87531 20.2145 8.94851 19.5143 8.90558 18.9257C5.00479 18.3918 2 15.0471 2 11ZM10 4.5C6.41015 4.5 3.5 7.41015 3.5 11C3.5 14.459 6.20234 17.2875 9.6105 17.4885C9.95008 17.5086 10.2337 17.7547 10.3013 18.088C10.4401 18.7716 10.4842 19.6217 10.2587 20.5643C11.6947 19.9026 12.7693 18.7583 13.4679 17.806C13.6076 17.6155 13.829 17.502 14.0652 17.4997C17.6249 17.4648 20.5 14.5681 20.5 11C20.5 7.41015 17.5899 4.5 14 4.5H10Z",fill:"currentColor"}})]),t._v(" "),e("div",{staticClass:"side-toolbar__action__text"},[t._v(t._s(t.formatNumber(t.statData.comment.count)))])]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"side-toolbar__bottom"},[e("div",{staticClass:"side-toolbar__btn",on:{click:t.handleGoBack}},[t._v("回到旧版")]),t._v(" "),e("div",{staticClass:"side-toolbar__btn backtop",on:{click:t.handleBackTop}},[e("span",[e("svg",{staticClass:"backtop__icon",attrs:{width:"11",height:"7",viewBox:"0 0 11 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.82145 1.12682C5.20459 0.772889 5.79541 0.77289 6.17855 1.12682L10.1175 4.76545C10.786 5.38302 10.3491 6.5 9.43893 6.5H1.56107C0.650938 6.5 0.213979 5.38302 0.882518 4.76545L4.82145 1.12682Z",fill:"currentColor"}})]),t._v("\n                顶部\n              ")])])])])}),[],!1,null,null,null).exports),lt={components:{Popup:m.Popup,VButton:m.Button},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},handleConfirm:function(){this.$emit("confirm"),this.hide()}}},ut=(r(64),Object(Q.a)(lt,(function(){var t=this,e=t._self._c;return e("Popup",{attrs:{"show-header":!1,"border-radius":4,width:440},on:{"mask-click":t.hide},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"coin-popup"},[e("div",{staticClass:"coin-popup__title"},[t._v("\n                给UP主投上1枚硬币\n            ")]),t._v(" "),e("div",{staticClass:"coin-popup__close",on:{click:t.hide}}),t._v(" "),e("div",{staticClass:"coin-popup__content"},[e("div",{staticClass:"coin-popup__figure"},[e("div",{staticClass:"coin-popup__figure__pic"},[e("img",{staticClass:"coin-popup__figure__pic-img",attrs:{src:"//i0.hdslb.com/bfs/static/jinkela/video/asserts/22-coin-ani.png",alt:""}})]),t._v(" "),e("div",{staticClass:"coin-popup__figure__label"},[t._v("1硬币")])])]),t._v(" "),e("div",{staticClass:"coin-popup__footer"},[e("VButton",{attrs:{type:"primary",size:"medium"},on:{click:t.handleConfirm}},[t._v("确定")]),t._v(" "),e("p",[t._v("经验值+10（今日0/50）")])],1)])])}),[],!1,null,null,null).exports);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ft(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pt={components:{FollowButton:m.FollowButton},computed:dt(dt({},Object(i.c)({detail:function(t){return t.detail}})),{},{authorData:function(){var t;return this.detail?(null===(t=this.detail.modules.find((function(t){return"MODULE_TYPE_AUTHOR"===t.module_type})))||void 0===t?void 0:t.module_author)||{}:null}})},vt=(r(65),Object(Q.a)(pt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"fixed-author-header"},[t.authorData?e("div",{staticClass:"fixed-author-header__inner"},[e("div",{staticClass:"fixed-author-header__author"},[e("div",{staticClass:"fixed-author-header__author__face"},[e("BImg",{staticClass:"b-img--face",attrs:{src:t.authorData.face,"format-options":{w:28,h:28,style:"web-dynamic"}}})],1),t._v(" "),e("div",{staticClass:"fixed-author-header__author__name"},[t._v(t._s(t.authorData.name))])]),t._v(" "),e("FollowButton",{attrs:{uid:t.authorData.mid,name:t.authorData.name,"default-value":t.authorData.following}})],1):t._e()])}),[],!1,null,null,null).exports),mt={directives:{log:m.DirectiveLog,"user-profile":m.DirectiveUserProfile},components:{FollowButton:m.FollowButton},props:{data:Object,user:Object},computed:{spaceUrl:function(){return"//space.bilibili.com/".concat(this.data.mid,"/dynamic")},showFollow:function(){return!this.user||String(this.data.mid)!==String(this.user.mid)},followState:function(){var t=this.data.attend||0,e={uid:this.data.mid,name:this.data.name,isFollowed:!1,defaultValue:!1};return 0===t?e:1===t?(e.isFollowed=!0,e):2===t||3===t?(e.defaultValue=!0,e):4===t?(e.isFollowed=!0,e.defaultValue=!0,e):e}}};r(66);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="executing",y="completed",p={};function v(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var C=Object.getPrototypeOf,g=C&&C(C(L([])));g&&g!==r&&n.call(g,a)&&(b=g);var M=w.prototype=v.prototype=Object.create(b);function U(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==wt(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=x(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function J(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wt(e)+" is not iterable")}return m.prototype=w,o(M,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},U(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},U(M),l(M,s,"Generator"),l(M,a,(function(){return this})),l(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(J),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),J(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;J(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function Ct(t){return function(t){if(Array.isArray(t))return gt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var Ut={components:{ReactionItem:Object(Q.a)(mt,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"log",rawName:"v-log",value:{show:{name:"reaction_usercard.all.show",value:{mid:this.data.mid}},click:{name:"reaction_usercard.all.click",value:{mid:this.data.mid},url:t.spaceUrl}},expression:"{\n    show: {\n      name: 'reaction_usercard.all.show',\n      value: {\n        mid: this.data.mid\n      },\n    },\n    click: {\n      name: 'reaction_usercard.all.click',\n      value: {\n        mid: this.data.mid\n      },\n      url: spaceUrl,\n    },\n  }"}],staticClass:"reaction-item"},[e("div",{directives:[{name:"user-profile",rawName:"v-user-profile",value:{uid:t.data.mid},expression:"{uid: data.mid}"}],staticClass:"reaction-item__face"},[e("BImg",{attrs:{src:t.data.face,"format-options":{w:40,h:40}}})],1),t._v(" "),e("div",{staticClass:"reaction-item__main"},[e("div",{staticClass:"reaction-item__name"},[t._v(t._s(t.data.name)),t.data.action?e("div",{staticClass:"reaction-item__action"},[t._v(t._s(t.data.action))]):t._e()]),t._v(" "),t.data.desc?e("div",{staticClass:"reaction-item__desc"},[t._v(t._s(t.data.desc))]):t._e()]),t._v(" "),t.showFollow?e("div",{staticClass:"reaction-item__follow",on:{click:function(t){t.stopPropagation()}}},[e("FollowButton",t._b({},"FollowButton",t.followState,!1))],1):t._e()])}),[],!1,null,null,null).exports},props:{id:String},data:function(){return{user:null,inited:!1,loading:!1,hasMore:!0,items:[],offset:"",total:0}},mounted:function(){var t=this;$.a.get().then((function(e){e.code||(t.user=e.data)})),this.getList()},methods:{getList:function(){var t,e=this;return(t=bt().mark((function t(){var r,n,o,i,a,c;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:if(e.hasMore){t.next=4;break}return t.abrupt("return");case 4:return e.loading=!0,t.prev=5,t.next=8,Object(m.Unios)({url:"//api.bilibili.com/x/polymer/web-dynamic/v1/detail/reaction",params:{id:e.id,offset:e.offset}});case 8:if(!(r=t.sent).code){t.next=11;break}throw r;case 11:if(n=r.data,o=n.items,i=n.has_more,a=n.total,c=n.offset,e.total||(e.total=a,e.$emit("count-change",a)),e.hasMore=i,e.items=[].concat(Ct(e.items),Ct(o)),e.offset=c,e.loading=!1,e.inited){t.next=24;break}if(!o.length){t.next=23;break}return t.next=21,e.$nextTick();case 21:new IntersectionObserver((function(t){t[0].isIntersecting&&e.getList()})).observe(e.$refs.loadmoreShim);case 23:e.inited=!0;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(5),e.loading=!1,console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[5,26]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mt(i,n,o,a,c,"next",t)}function c(t){Mt(i,n,o,a,c,"throw",t)}a(void 0)}))})()}}},Tt=(r(67),Object(Q.a)(Ut,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"reaction-list"},[t._l(t.items,(function(r,n){return[e("ReactionItem",{key:"".concat(n,"-").concat(r.mid),attrs:{data:r,user:t.user}})]})),t._v(" "),t.hasMore?t._e():e("div",{staticClass:"reaction-list__nomore"},[t._v("没有更多了")]),t._v(" "),t.items?e("div",{ref:"loadmoreShim",staticClass:"reaction-list__loadmore"}):t._e()],2)}),[],!1,null,null,null).exports),jt=r(9),xt=r(7),_t=r(33),Jt=r.n(_t),It=r(34);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ot=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:j(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="executing",y="completed",p={};function v(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var C=Object.getPrototypeOf,g=C&&C(C(L([])));g&&g!==r&&n.call(g,a)&&(b=g);var M=w.prototype=v.prototype=Object.create(b);function U(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Lt(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=x(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function J(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lt(e)+" is not iterable")}return m.prototype=w,o(M,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},U(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},U(M),l(M,s,"Generator"),l(M,a,(function(){return this})),l(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(J),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),J(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;J(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function Dt(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Et(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dt(i,n,o,a,c,"next",t)}function c(t){Dt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(Object(r),!0).forEach((function(e){kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Lt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Lt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var At={components:{OpusView:m.OpusView,ReactionList:Tt,VComment:m.Comment,VTabs:m.Tabs,VTabPane:m.TabPane,SideToolbar:st,CoinPopup:ut,FixedAuthorHeader:vt},metaInfo:function(){var t;return{title:(null===(t=this.basic)||void 0===t?void 0:t.title)||"图文详情 - 哔哩哔哩"}},data:function(){return{user:null,tab:"comment",showFixedAuthorHeaderTop:0,showFixedAuthorHeader:!1,showBackTop:!1,reactionTotal:0,jumpReplyId:0}},provide:function(){return{commonLogData:{},imgSrcDefDomain:this.bmgDefDomain,enableAVIF:!0,spmIdFrom:this.fromSpmid}},computed:Nt(Nt(Nt({},Object(i.c)({bmgDefDomain:function(t){return t.bmgDefDomain},modern:function(t){return t.modern},id:function(t){return t.id},detail:function(t){return t.detail},isPreview:function(t){return t.isPreviewk},themeMode:function(t){return t.themeMode},fromSpmid:function(t){return t.fromSpmid}})),Object(i.b)(["statData"])),{},{basic:function(){var t;return null===(t=this.detail)||void 0===t?void 0:t.basic},commentParams:function(){var t=this.basic||{};return{id:t.comment_id_str,type:t.comment_type}},tabCommentLabel:function(){var t,e=(null===(t=this.statData.comment)||void 0===t?void 0:t.count)||0;return"评论".concat(e?" ".concat(e):"")},tabForwardLabel:function(){return"赞与转发".concat(this.reactionTotal?" ".concat(this.reactionTotal):"")}}),asyncData:function(t){var e=arguments;return Et(Ot().mark((function r(){var n,o,i,a,c,s,l,u,f,h,d,y;return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=e.length>1&&void 0!==e[1]?e[1]:{},s=e.length>2?e[2]:void 0,l=null==s||null===(n=s.params)||void 0===n?void 0:n.id,t.commit("SET_ID",l),t.commit("SET_IS_PREVIEW",!(null==c||null===(o=c.query)||void 0===o||!o.preview)),u="undefined"==typeof window,f=u?(null==c?void 0:c.userAgent)||(null==c?void 0:c.headers["user-agent"]):window.navigator.userAgent,h=u?null==c||null===(i=c.headers)||void 0===i?void 0:i.cookie:document.cookie,d=Jt()(f),t.commit("SET_MODERN",d),(y=null==c||null===(a=c.query)||void 0===a?void 0:a.spm_id_from)&&t.commit("SET_FROM_SPMID",y),t.commit("SET_THEME_MODE",Object(jt.a)(h)),t.commit("SET_BMG_DEF_DOMAIN",new It.a({cookie:h}).config.def),r.next=16,t.dispatch("fetchDetail",c);case 16:return r.abrupt("return",r.sent);case 17:case"end":return r.stop()}}),r)})))()},mounted:function(){var t=this;return Et(Ot().mark((function e(){var r,n,o,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPreview?t.initPreviewHeader():t.initHeader(),o=t.$route.query||{},i=o.spm_id_from,a=o.edit,i!==t.fromSpmid&&t.$store.commit("SET_FROM_SPMID",i),t.jumpReplyId=(null===(r=location.hash.match(/reply(\d+)/))||void 0===r?void 0:r[1])||0,setTimeout((function(){t.initFixedAuthorHeader()}),1e3),e.next=7,t.getUser();case 7:null!==(n=t.user)&&void 0!==n&&n.mid&&t.$store.dispatch("handldHistoryReport"),1===Number(a)&&t.detail&&t.handleEdit();case 9:case"end":return e.stop()}}),e)})))()},methods:{handleEdit:function(){this.$refs.view.edit()},initPreviewHeader:function(){var t=document.querySelector("#bili-header-container"),e=document.createElement("div");e.classList.add("preview-header"),e.innerText="此链接为预览，仅您自己可见",t.appendChild(e);t.style.height="40px",e.style.lineHeight="40px"},initHeader:function(){var t=this;return Et(Ot().mark((function e(){var r,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.modern){e.next=4;break}return e.next=3,Object(xt.a)("//s1.hdslb.com/bfs/seed/jinkela/header-v2/header.js");case 3:return e.abrupt("return");case 4:return e.next=6,Object(xt.a)("//s1.hdslb.com/bfs/seed/laputa-header/bili-header.umd.js",{lib:"BiliHeader"});case 6:r=e.sent,n=document.querySelector("#bili-header-container"),new r({config:{disableChannelEntry:!1,disableSticky:!1,forceVersion:3,themeSwitchHandler:t.themeSwitchHandler}}).init(n);case 10:case"end":return e.stop()}}),e)})))()},themeSwitchHandler:function(t){this.$store.commit("SET_THEME_MODE",t),"dark"===t?document.documentElement.classList.add("bili_dark"):document.documentElement.classList.remove("bili_dark")},initFixedAuthorHeader:function(){var t=this,e=document.querySelector(".opus-module-author").getBoundingClientRect();this.showFixedAuthorHeaderTop=e.y+e.height+window.scrollY,window.addEventListener("scroll",(function(){t.showFixedAuthorHeader=window.scrollY>t.showFixedAuthorHeaderTop,t.showBackTop=window.scrollY>window.innerHeight/2}))},handleForward:function(t,e){var r=this;return Et(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.Login)();case 3:n.t0=n.sent,n.next="LOGINED"===n.t0?6:"SUCCESS"===n.t0?7:"CANCEL"===n.t0?9:10;break;case 6:return n.abrupt("break",10);case 7:return location.reload(),n.abrupt("return");case 9:return n.abrupt("return");case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(0),console.log(n.t1);case 15:Object(m.DynShare)({id:e,nodes:t,parent:r.$root});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},handleAction:function(t){var e=this;return Et(Ot().mark((function r(){var n;return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!["like","coin","favorite","forward"].includes(t)){r.next=16;break}return r.prev=1,r.next=4,Object(m.Login)();case 4:r.t0=r.sent,r.next="LOGINED"===r.t0?7:"SUCCESS"===r.t0?8:"CANCEL"===r.t0?10:11;break;case 7:return r.abrupt("break",11);case 8:return location.reload(),r.abrupt("return");case 10:return r.abrupt("return");case 11:r.next=16;break;case 13:r.prev=13,r.t1=r.catch(1),console.log(r.t1);case 16:r.t2=t,r.next="like"===r.t2?19:"coin"===r.t2?21:"favorite"===r.t2?23:"forward"===r.t2?25:"comment"===r.t2?27:"backtop"===r.t2?29:31;break;case 19:return e.$store.dispatch("handleLike"),r.abrupt("break",32);case 21:return e.$refs.coinPopup.show(),r.abrupt("break",32);case 23:return e.$store.dispatch("handleFavorite"),r.abrupt("break",32);case 25:return Object(m.DynShare)({id:null===(n=e.detail)||void 0===n?void 0:n.id_str,parent:e.$root}),r.abrupt("break",32);case 27:return e.handleGoComment(),r.abrupt("break",32);case 29:return Object(m.ScrollTo)(0),r.abrupt("break",32);case 31:return r.abrupt("break",32);case 32:case"end":return r.stop()}}),r,null,[[1,13]])})))()},onCoinConfirm:function(){this.$store.dispatch("handleCoin")},getTabsTop:function(){return this.$refs.tabs.$el.getBoundingClientRect().y+window.scrollY},handleGoComment:function(){"comment"!==this.tab&&(this.tab="comment"),Object(m.ScrollTo)(this.getTabsTop())},getUser:function(){var t=this;return Et(Ot().mark((function e(){var r,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get();case 3:r=e.sent,n=r.data,0===r.code&&(t.user=n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},Pt=(r(68),Object(Q.a)(At,(function(){var t=this,e=t._self._c;return e("div",{class:["dark"===t.themeMode&&"dark_mode"],attrs:{id:"app"}},[e("div",{staticClass:"bgc"}),t._v(" "),e("div",{staticClass:"bg"}),t._v(" "),e("transition",{attrs:{name:"slidedown"}},[t.isPreview?t._e():e("FixedAuthorHeader",{directives:[{name:"show",rawName:"v-show",value:t.showFixedAuthorHeader,expression:"showFixedAuthorHeader"}]})],1),t._v(" "),t.detail?e("div",{staticClass:"opus-detail"},[e("OpusView",{ref:"view",attrs:{data:t.detail}}),t._v(" "),t.isPreview?t._e():[e("VTabs",{ref:"tabs",staticClass:"opus-tabs",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("VTabPane",{attrs:{label:t.tabCommentLabel,name:"comment"}},[e("div",{staticClass:"comment-wrap"},[t.statData.comment&&t.statData.comment.hidden?e("div",{staticClass:"comment-invisible"},[t._v("\n                    暂无权查看当前评论\n                  ")]):e("VComment",{attrs:{active:"comment"===t.tab,params:t.commentParams,jumpReplyId:t.jumpReplyId,theme:t.themeMode,version:1}})],1)]),t._v(" "),t.statData.forward&&!t.statData.forward.hidden?e("VTabPane",{attrs:{label:t.tabForwardLabel,name:"forward"}},[e("ReactionList",{attrs:{id:t.id},on:{"count-change":function(e){t.reactionTotal=e}}})],1):t._e()],1),t._v(" "),e("div",{staticClass:"right-sidebar-wrap"},[e("SideToolbar",{attrs:{"show-back-top":t.showBackTop},on:{action:t.handleAction}})],1)]],2):t._e(),t._v(" "),t.isPreview?t._e():e("CoinPopup",{ref:"coinPopup",on:{confirm:t.onCoinConfirm}})],1)}),[],!1,null,null,null).exports);n.default.use(A.a);var Vt=function(){return new A.a({mode:"history",routes:[{path:"/opus/:id",component:Pt}]})},Qt=r(11),Ft=r.n(Qt),Gt=(r(69),r(70),r(12)),Ht=r.n(Gt),Rt=r(13);n.default.use(Ht.a),Object(Rt.preloadPacks)([{json:m.SVG_ICON_NEXT_JSON}]),n.default.use(Ft.a),n.default.use(o.a),n.default.directive("longClick",{bind:function(t,e){t.addEventListener("mousedown",(function(){t.isPressing=!0;var r=e.value;t.timer=setTimeout((function(){t.isPressing&&r()}),e.arg)}))}}),n.default.directive("longClickLeave",{bind:function(t,e){t.addEventListener("mouseup",(function(){t.isPressing&&(clearTimeout(t.timer),t.isPressing=!1,e.value())})),t.addEventListener("mouseleave",(function(){t.isPressing&&(clearTimeout(t.timer),t.isPressing=!1,e.value())}))}}),n.default.mixin({beforeRouteUpdate:function(t,e,r){var n=this.$options.asyncData;n?n({store:this.$store,route:t}).then(r).catch(r):r()}});var Zt,Yt,Bt=(Zt=k(),Yt=Vt(),{app:new n.default({store:Zt,router:Yt,render:function(t){return t(Pt)}}),router:Yt,store:Zt}),Xt=Bt.app,zt=Bt.router,Wt=Bt.store;Object(jt.b)(),zt.onReady((function(){if(window.__INITIAL_STATE__)Wt.replaceState(window.__INITIAL_STATE__);else{var t=zt.getMatchedComponents();if(!t){var e=new Error("404 Not Found");throw e.status=404,e}Promise.all(t.map((function(t){return t.asyncData&&t.asyncData(Wt,{},zt.currentRoute)}))).then((function(){Xt.$mount("#opus-detail-app")})).catch((function(t){console.error(t)}))}window&&window.document.getElementById("app")&&Xt.$mount("#app")}))}});
//# sourceMappingURL=opus-detail.61c3ad4bba88fa2a58ab775de7cf9953e76faad4.js.map